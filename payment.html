<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To'lovni Tasdiqlash | Saidxonovnas School</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Poppins:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .payment-wrapper {
            min-height: 80vh;
            padding: 50px 5%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .payment-details {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            margin-top: 30px;
        }

        .payment-details h3 {
            color: var(--color-secondary);
            margin-top: 20px;
            margin-bottom: 15px;
        }

        .payment-details p {
            font-size: 1.1em;
            margin: 10px 0;
        }

        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }

        .payment-btn {
            background-color: var(--color-text);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
            display: block;
            text-transform: uppercase;
        }

        .payment-btn:hover {
            background-color: #333;
        }
        .payme-btn { background-color: var(--color-secondary); } 
        .payme-btn:hover { background-color: #129e8e; }
        
        /* Yangi style: Ma'lumot yo'q bo'lsa */
        .no-data-alert {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <header class="main-header">
        <div class="logo">
            <img src="logo.png" alt="Logo" class="logo-img">
            <span class="logo-text">Saidxonovnas School</span>
        </div>
        <div class="menu-toggle" id="menuToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="header-right">
            <nav class="main-nav" id="mainNav">
                <ul>
                    <li><a href="index.html#home">Bosh Sahifa</a></li>
                    <li><a href="register.html">Ro'yxatdan O'tish</a></li>
                    <li><a href="index.html#contact">Aloqa</a></li>
                </ul>
            </nav>
            <a href="register.html" class="action-btn desktop-only">Ro'yxatdan O'tish</a>
        </div>
    </header>

    <section class="payment-wrapper section-center">
        <h2>üí≥ To'lovni Tasdiqlash</h2>
        <p>Kursga ro'yxatdan o'tganingiz uchun rahmat. Iltimos, quyidagi ma'lumotlarni tekshiring va ko'rsatilgan kartaga pul o'tkazing.</p>

        <!-- Agar ma'lumot yo'q bo'lsa bu blok ko'rinadi -->
        <div id="no-data-alert" class="no-data-alert" style="display: none;">
            <h3>‚ö†Ô∏è Ma'lumot Topilmadi</h3>
            <p>Iltimos, avval ro'yxatdan o'ting yoki sahifani qaytadan yuklang.</p>
            <a href="register.html" class="payment-btn" style="margin-top: 15px;">Ro'yxatdan O'tish Sahifasiga O'tish</a>
        </div>

        <div class="payment-details" id="payment-details">
            <p><strong>Ism:</strong> <span id="payment-name">...</span></p>
            <p><strong>Tanlangan Kurs:</strong> <span id="payment-course">...</span></p>
            <h3>To'lanadigan Summa: <span id="payment-price">...</span></h3>
            
            <div style="margin-top: 30px; padding: 20px; border: 2px dashed var(--color-primary); border-radius: 8px;">
                <h4>üí∏ Pul o'tkazish uchun karta ma'lumotlari</h4>
                <p><strong>UZCARD/HUMO karta raqami:</strong></p>
                <p style="font-size: 1.6em; font-weight: 700; color: var(--color-text);">
                    <code>8600 6827 1256 6100</code>
                </p>
                <p><strong>Qabul qiluvchi:</strong> Bositxonova Muslimaxon </p>
                <p style="color: red; font-weight: 600;">‚ö†Ô∏è Eslatma: To'lovni amalga oshirgach, tasdiqlovchi chekni Telegram manzilimizga yuboring!</p>
            </div>
            
            <div class="payment-options">
                <a href="https://t.me/Saidxonovnas_School" target="_blank" class="payment-btn payme-btn" style="margin-top: 20px;">‚úÖ Chekni Telegramda Yuborish</a>
            </div>
            
            <a href="register.html" style="margin-top: 20px; display: block; color: var(--color-primary);">‚¨ÖÔ∏è Ma'lumotlarni o'zgartirish</a>
        </div>
    </section>

    <footer class="main-footer">
        <p>&copy; 2025 Saidxonovnas School. Barcha huquqlar himoyalangan.</p>
        <div class="social-links">
            <a href="https://t.me/Saidxonovnas_School" target="_blank">Telegram</a>
            <a href="https://instagram.com/Saidxonovnas_School" target="_blank">Instagram</a>
        </div>
    </footer>

    <script src="scribt.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // localStorage dan ma'lumotlarni olish
            const savedData = localStorage.getItem('registrationData');
            
            if (savedData) {
                // JSON formatidagi ma'lumotlarni parse qilish
                const formData = JSON.parse(savedData);
                
                // Ma'lumotlarni sahifada ko'rsatish
                document.getElementById('payment-name').textContent = formData.name;
                document.getElementById('payment-course').textContent = formData.course;
                document.getElementById('payment-price').textContent = formData.coursePrice + ' UZS';
                
                // Sahifani normal holatda ko'rsatish
                document.getElementById('payment-details').style.display = 'block';
                document.getElementById('no-data-alert').style.display = 'none';
            } else {
                // Agar ma'lumot topilmasa
                document.getElementById('payment-name').textContent = 'Noma ºlum';
                document.getElementById('payment-course').textContent = 'Tanlanmagan';
                document.getElementById('payment-price').textContent = '0 UZS';
                
                // Ogohlantirishni ko'rsatish
                document.getElementById('payment-details').style.display = 'none';
                document.getElementById('no-data-alert').style.display = 'block';
                
                // Agar sahifa bevosita ochilgan bo'lsa, 2 soniyadan keyin ro'yxatdan o'tish sahifasiga yo'naltirish
                setTimeout(function() {
                    window.location.href = "register.html";
                }, 3000);
            }
            
            // URL dan ma'lumotlarni ham tekshirish (agar kerak bo'lsa)
            const urlParams = new URLSearchParams(window.location.search);
            const nameParam = urlParams.get('name');
            const courseParam = urlParams.get('course');
            const priceParam = urlParams.get('price');
            
            // Agar URL parametrlari bo'lsa, ulardan foydalanish
            if (nameParam || courseParam || priceParam) {
                document.getElementById('payment-name').textContent = nameParam || formData.name || 'Noma ºlum';
                document.getElementById('payment-course').textContent = courseParam || formData.course || 'Tanlanmagan';
                document.getElementById('payment-price').textContent = (priceParam || formData.coursePrice || '0') + ' UZS';
            }
        });
    </script>
</body>

</html>